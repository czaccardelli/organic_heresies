base_heresiarch_conversion_value = 200
base_heresiarch_conversion_divisor = 100

# scope is character (heresiarch)
heresiarch_county_conversion_uptick_value = {
    value = base_heresiarch_conversion_value
    # linearly increase based on fervor difference with 100 difference = 50 value
    add = {
        value = heresiarch.faith.fervor
        subtract = location.county.faith.fervor
        min = 0
        divide = 2
    }
    # linearly increase based on county control with 0 county control adding 100 value
    add = {
        value = 100
        subtract = location.county.county_control
        min = 0
    }
    # TODO: change sinfulness_multiplier to be based on sins in the county's faith, not the characters'
    multiply = {
        add = holder.sinfulness_multiplier
        add = holder.cp:councillor_court_chaplian.sinfulness_multiplier
        min = 1
    }
    divide = base_heresiarch_conversion_divisor
    min = 1
}